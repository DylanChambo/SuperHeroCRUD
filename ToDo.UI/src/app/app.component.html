<h1>To Do App</h1>

<div class= "tasks">
  <div class="task-column">
    <h2>To Do</h2>
    <ng-container  *ngFor="let task of tasks">
      <div class="task-box" *ngIf="task.status == 'To Do'">
        <button (click)="editTask(task)">
          <h3>{{ task.info }}</h3>
          <p *ngIf="task.dueDate">{{ formatDate(task.dueDate, "medium", "en-US") }}</p>
          <p *ngIf="!task.dueDate">No Due Date</p>
          <p>{{ task.status }}</p>
          <p>{{ task.priority }}</p>
        </button>
      </div>
    </ng-container>
  </div>
  
  <div class="task-column">
    <h2>Next</h2>
    <ng-container  *ngFor="let task of tasks">
      <div class="task-box" *ngIf="task.status == 'Next'">
        <button (click)="editTask(task)">
          <h3>{{ task.info }}</h3>
          <p *ngIf="task.dueDate">{{ formatDate(task.dueDate, "medium", "en-US") }}</p>
          <p *ngIf="!task.dueDate">No Due Date</p>
          <p>{{ task.status }}</p>
          <p>{{ task.priority }}</p>
        </button>
      </div>
    </ng-container>
  </div>

  <div class="task-column">
    <h2>Doing</h2>
    <ng-container  *ngFor="let task of tasks">
      
      <div class="task-box" *ngIf="task.status == 'Doing'">
        <button (click)="editTask(task)">
          <h3>{{ task.info }}</h3>
          <p *ngIf="task.dueDate">{{ formatDate(task.dueDate, "medium", "en-US") }}</p>
          <p *ngIf="!task.dueDate">No Due Date</p>
          <p>{{ task.status }}</p>
          <p>{{ task.priority }}</p>
        </button>
      </div>
    </ng-container>
  </div>

  <div class="task-column">
    <h2>Done</h2>
    <ng-container  *ngFor="let task of tasks">
      <div class="task-box" *ngIf="task.status == 'Done'">
        <button (click)="editTask(task)">
          <h3>{{ task.info }}</h3>
          <p *ngIf="task.dueDate">{{ formatDate(task.dueDate, "medium", "en-US") }}</p>
          <p *ngIf="!task.dueDate">No Due Date</p>
          <p>{{ task.status }}</p>
          <p>{{ task.priority }}</p>
        </button>
      </div>
    </ng-container>
  </div>
</div>

<button (click)="initNewTask()">Create New Task</button>

<app-edit-task [task]="taskToEdit" (tasksUpdated)="updateTaskList($event)"></app-edit-task>